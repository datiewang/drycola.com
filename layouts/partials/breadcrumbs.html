{{ if or .Parent .IsHome }}
{{ if not .IsHome }}
<nav id="breadcrumb">
  {{- $ancestors := slice -}}
  {{- $current := . -}}
  {{- range $current.Ancestors.Reverse -}}
    {{- $ancestors = $ancestors | append . -}}
  {{- end -}}
  {{- $ancestors = $ancestors | append $current -}}
  
  {{- range $index, $ancestor := $ancestors -}}
    {{- if eq $index 0 -}}
      {{- /* 跳过首页链接，不显示 "Home" */ -}}
    {{- else -}}
      {{- if gt $index 1 -}}
        &nbsp;»&nbsp;
      {{- end -}}
      {{- if ne $ancestor $current -}}
        {{- if and (eq $ancestor.Section "posts") (eq $ancestor.Kind "section") -}}
          <a href="/archive/">归档</a>
        {{- else -}}
          <a href="{{ $ancestor.RelPermalink }}">
            {{- if eq $ancestor.Title "Categories" -}}
              分类
            {{- else if eq $ancestor.Title "Tags" -}}
              标签
            {{- else -}}
              {{ $ancestor.Title }}
            {{- end -}}
          </a>
        {{- end -}}
      {{- else -}}
        <span class="breadcrumb-current">
          {{- if eq $ancestor.Title "Categories" -}}
            分类
          {{- else if eq $ancestor.Title "Tags" -}}
            标签
          {{- else -}}
            {{ $ancestor.Title }}
          {{- end -}}
        </span>
      {{- end -}}
    {{- end -}}
  {{- end -}}
</nav>
{{ end }}
{{ end }}